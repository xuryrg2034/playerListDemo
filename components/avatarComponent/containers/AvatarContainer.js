import React from 'react';
import {connect} from "react-redux";
import AvatarForm from "../components/AvatarForm";
import {apiUrl} from "../../../constants";
import '../styles/avatarComponent.scss'


const AvatarContainer = React.memo((props) => {
    return(
        <div className="avatarBlock">
            {
                props.avatarUrl
                ? <div className={`avatarBlock__img`}>
                        <img src={`${apiUrl}/uploads/character_avatar/${props.avatarUrl}`} alt={`Аватар персонажа`}/>
                    </div>
                : <div className="avatarBlock__emptyImg">
                        <svg width="215" height="242" viewBox="0 0 215 242" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path opacity="0.05"
                                  d="M1.3952 228.884L8.83624 233.546L0 241.004H29.7642L41.8559 218.163L39.9956 212.569V206.043L44.6463 203.712L41.8559 195.322L45.5764 192.058L44.6463 185.532L50.6921 170.149C50.6921 170.149 78.7031 206.975 81.8515 212.569C85 218.163 81.8515 224.689 81.8515 224.689L65.1092 241.004H161.5L159.983 229.817L144.635 210.705L149.751 199.517L159.983 210.705L161.5 215.504L167.5 218.163V224.689L169.807 225.447V228.004L169 230.504L164 241.004H181.841H213L215 238L201 235.504L200.5 233.004L196 228.504L195.328 224.689V220.004L192.537 218.163V215.004L205 195.322C205 195.322 209 197.403 211 196.004C213 194.606 212 191.504 206.5 187.004C199.933 181.631 198.828 181.405 197 183.504C195.172 185.604 198.118 189.728 198.118 189.728L186.026 206.043L180.213 198.468V195.322L176 193.504L169 188.004L169.807 183.504L162.773 175.743L158.587 132.391C158.587 132.391 162.079 144.512 172.539 151.503C166.5 135.004 171.609 124.933 171.609 124.933L172.539 137.004C172.539 137.004 177 152.579 178.5 160.504C180 168.428 190.212 189.728 190.212 189.728C190.212 189.728 188.93 181.803 188 170.149C187.07 158.496 195.328 127.504 194.397 111.881C193.467 96.2574 186.026 79.0053 175.795 60.1379C165.563 41.2705 133.605 -0.49555 108 0.00444976C82.3952 0.50445 69.2948 21.4474 69.2948 21.4474L68.3646 34.4996L61.8537 46.1534C59.5284 61.5364 72.4572 77.7584 75.8057 86.7085C72.4572 98.642 62.9389 101.004 58.5983 100.693L33.4847 82.5131L42.786 96.4966C32.2445 91.369 9.39432 85.3092 2.32533 102.091C19.9978 99.7604 22.7882 109.083 25.1135 114.677C18.4166 123.254 18.2926 141.869 19.0677 150.105L17.2074 157.097L24.1834 158.495L19.0677 165.488L21.393 170.149V179.472L14.8821 184.134L19.0677 187.397V192.058L9.76638 197.186L13.4869 203.712V207.441V211.637L8.83624 212.569L11.1616 220.027L8.83624 226.087L1.3952 228.884Z"
                                  fill="black"/>
                        </svg>
                    </div>
            }
            <AvatarForm/>
        </div>
    )
});

function stateProps(state) {
    return {
        avatarUrl: state.playerListInfo.list.avatarUrl
    }
}

export default connect(stateProps, null)(AvatarContainer);